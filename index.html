<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;900&display=swap"
      rel="stylesheet"/>
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,300;1,300&display=swap"
      rel="stylesheet"/>
    <title>CodeClause Timer And StopWatch</title>
    <link rel="icon" href="logo.png" type="image/x-icon" />
    <link rel="stylesheet" href="style.css">
</head>

  <body>

    <div class="stopwatch">
      <h1><span class="gold">TIMER AND STOPWATCH</span></h1><br>
      <h1>STOPWATCH</h1>

      <div class="circle">
        <span class="time" id="display">00:00:00</span>
      </div>

      <div class="controls">

        <button class="buttonPlay">
          <img id="playButton" src="./playbutton.png" height="30"/>
          <img id="pauseButton" src="./pause.png" height="30"/>
        </button>

        <button class="buttonReset">
          <img id="resetButton" src="./reset.png" height="30"/>
        </button>

      </div>
    </div>

    <form>
      <h6>Minutes : <input type="text" id="mns" name="mns" value="0" size="4" maxlength="4" style="height:40px; width:60px;" /></h6> &nbsp; &nbsp;
      <h6>Seconds : <input type="text" id="scs" name="scs" value="0" size="4" maxlength="4" style="height:40px; width:60px;" /></h6><br/>
      <h6><input type="button" id="btnct" value="START" style="height:40px; width:70px;" onclick="countdownTimer()"/></h6>
    </form>

      <h6>Countdown Timer : &nbsp; <span id="showmns">00</span>:<span id="showscs">00</span></h6>
      <script type="text/javascript"><!--
          /* Function to display a Countdown timer with starting time from a form */
      // sets variables for minutes and seconds
      var ctmnts = 0;
      var ctsecs = 0;
      var startchr = 0;       // used to control when to read data from form
      
      function countdownTimer() {
        // https://coursesweb.net/javascript/
        // if $startchr is 0, and form fields exists, gets data for minutes and seconds, and sets $startchr to 1
        if(startchr == 0 && document.getElementById('mns') && document.getElementById('scs')) {
          // makes sure the script uses integer numbers
          ctmnts = parseInt(document.getElementById('mns').value) + 0;
          ctsecs = parseInt(document.getElementById('scs').value) * 1;
      
          // if data not a number, sets the value to 0
          if(isNaN(ctmnts)) ctmnts = 0;
          if(isNaN(ctsecs)) ctsecs = 0;
      
          // rewrite data in form fields to be sure that the fields for minutes and seconds contain integer number
          document.getElementById('mns').value = ctmnts;
          document.getElementById('scs').value = ctsecs;
          startchr = 1;
          document.getElementById('btnct').setAttribute('disabled', 'disabled');     // disable the button
        }
      
        // if minutes and seconds are 0, sets $startchr to 0, and return false
        if(ctmnts==0 && ctsecs==0) {
          startchr = 0;
          document.getElementById('btnct').removeAttribute('disabled');     // remove "disabled" to enable the button
      
          /* HERE YOU CAN ADD TO EXECUTE A JavaScript FUNCTION WHEN COUNTDOWN TIMER REACH TO 0 */
      
          return false;
        }
        else {
          // decrease seconds, and decrease minutes if seconds reach to 0
          ctsecs--;
          if(ctsecs < 0) {
            if(ctmnts > 0) {
              ctsecs = 59;
              ctmnts--;
            }
            else {
              ctsecs = 0;
              ctmnts = 0;
            }
          }
        }
      
        // display the time in page, and auto-calls this function after 1 seccond
        document.getElementById('showmns').innerHTML = ctmnts;
        document.getElementById('showscs').innerHTML = ctsecs;
        setTimeout('countdownTimer()', 1000);
      }
      //-->
      </script>
    <script src="script.js"></script>

    <footer>
      This Timer And Stopwatch is made by
          <a href="https://github.com/SiddheshP1996" target="_blank">Siddhesh Panajkar</a>
      <div class="center">
          Copyright &copy; Timer And Stopwatch</div>
  </footer>

  </body>
</html>
